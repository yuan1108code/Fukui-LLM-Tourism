# 編輯模式使用指南

## 功能概述

編輯模式讓政府與商家能夠動態新增地點資訊到福井觀光 AI 助手的地圖上。這個功能提供了一個直觀的介面，讓使用者可以透過點擊地圖或輸入座標來新增各種類型的地點資訊。

## 如何使用編輯模式

### 1. 啟用編輯模式

1. 確保應用程式處於「Map View」模式
2. 在頂部導航欄找到綠色的「Edit」按鈕
3. 點擊「Edit」按鈕啟用編輯模式
4. 編輯模式啟用後，地圖左上角會出現「編輯模式」指示器

### 2. 新增地點

#### 方法一：點擊地圖
1. 在編輯模式下，直接點擊地圖上想要新增地點的位置
2. 系統會自動填入該位置的經緯度座標
3. 新增地點表單會自動彈出

#### 方法二：手動輸入座標
1. 在編輯模式下點擊地圖任意位置開啟表單
2. 在表單中手動修改緯度和經度欄位

### 3. 填寫地點資訊

表單包含以下幾個部分：

#### 基本資訊 🏢
- **地點名稱**（必填）：例如「高須白山神社」
- **類型**：神社、寺廟、景點、博物館、公園、其他
- **描述**（必填）：詳細描述地點的特色、歷史背景等

#### 位置資訊 📍
- **地址**：完整地址
- **緯度**（必填）：自動填入或手動輸入
- **經度**（必填）：自動填入或手動輸入

#### 聯絡資訊 📞
- **電話**：聯絡電話號碼
- **網站**：官方網站 URL

#### 營業時間與費用 🕐
- **開放時間**：例如 09:00
- **關閉時間**：例如 17:00
- **入場費**：免費或數字（日圓）

#### 宗教資訊 ⛩️（僅限神社/寺廟）
- **祭神**：格式為「神名 - 職掌」，多個祭神用逗號分隔
  - 例如：「白山大神 - 農業、豐收、健康」
- **創建年份**：例如「1200年」

### 4. 儲存地點

1. 填寫完所有必要資訊後，點擊「儲存地點」按鈕
2. 新地點會立即出現在地圖上，使用黃色標記
3. 表單會自動關閉，編輯模式保持啟用狀態

### 5. 管理自定義地點

#### 顯示/隱藏自定義地點
- 地圖右上角的控制面板會顯示「Custom」按鈕
- 點擊可以切換自定義地點的顯示狀態

#### 查看自定義地點詳情
- 點擊黃色標記查看地點資訊
- 提供與其他地點相同的功能：
  - Google Maps 導航
  - 查看詳細資訊
  - 複製座標

## 標記顏色說明

- 🔵 **藍色標記**：官方景點資料
- 🔴 **紅色標記**：神社與寺廟資料
- 🟡 **黃色標記**：使用者自定義地點
- 🟢 **綠色標記**：使用者當前位置

## 資料儲存說明

⚠️ **重要提醒**：
- 當前版本的自定義地點資料僅在瀏覽器會話期間有效
- 重新整理頁面或關閉瀏覽器後，自定義地點會消失
- 這是設計來提供即時編輯和預覽功能
- 未來版本可能會加入永久儲存功能

## 使用場景

### 政府單位
- 新增公共設施資訊
- 更新景點開放時間
- 新增臨時活動地點
- 提供最新的旅遊資訊

### 商家
- 新增店鋪位置
- 提供營業時間資訊
- 分享聯絡方式
- 推廣特色服務

### 一般使用者
- 分享私房景點
- 記錄旅遊地點
- 標記重要位置
- 規劃行程路線

## 退出編輯模式

1. 點擊頂部導航欄的「Exit Edit」按鈕
2. 或切換到「Chat Only」模式
3. 編輯模式指示器會消失，地圖恢復正常瀏覽模式

## 故障排除

### 無法點擊地圖新增地點
- 確認編輯模式已正確啟用（有綠色指示器）
- 確認瀏覽器支援地理位置功能
- 檢查網路連線狀態

### 表單驗證錯誤
- 確認所有必填欄位（標有 * 的欄位）都已填寫
- 檢查緯度和經度是否為有效數字
- 確認網站 URL 格式正確（需要 http:// 或 https://）

### 地點未顯示在地圖上
- 檢查右上角控制面板中「Custom」按鈕是否啟用
- 確認座標是否在合理範圍內（福井縣周邊）
- 嘗試重新新增地點

---

如有任何問題或建議，請聯繫系統管理員。
